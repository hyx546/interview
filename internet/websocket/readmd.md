# websocket

## 为什么需要websocket

1. http的缺陷： `通信只能由客户端发起`，无法做到服务端主动推送
2. 如果服务端有连续的状态变化，只能使用`轮询`： 每隔一段时间，就发出一个询问，了解服务器有没有新的信息
3. 轮询的效率低，需要http连接始终打开，浪费资源

## websocket简介

它是html5提供的一种支持客户端和服务端进行全双工通讯的网络技术，它基于tcp传输协议，复用http握手通道，只需要进行一次握手，就能建立持久性连接，并进行双向数据传输

[注意]：websocket的握手和tcp的握手是不同层次的，websocket的握手是在tcp三次握手建立连接之后进行的，主要是用于告知服务器该连接是个websocket链接

## websocket 特点

1. 最大的特点：`客户端可以主动向服务器发送信息，服务器也可以主动向客户度推送信息`
2. 基础tcp传输协议
3. 没有同源限制，客户端可以和任意的服务器通信
4. 协议标识是ws
5. 与http协议有着良好的兼容性，并且握手阶段采用的是http协议
6. 可以发送文本，也可以发送二进制数据